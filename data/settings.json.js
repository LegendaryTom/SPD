e = {};
e.options = function(settings){
    settings.AC =     settings.AC || {};
    settings.AC.loadcenter_types =     settings.AC.loadcenter_types || {};
    settings.AC.loadcenter_types["240V"] = ["240V","120V"];
    settings.AC.loadcenter_types["208/120V"] = ["208V","120V"];
    settings.AC.loadcenter_types["480/277V"] = ["480V Wye","480V Delta","277V"];
    settings.AC.types =     settings.AC.types || {};
    settings.AC.types["120V"] = ["ground","neutral","L1"];
    settings.AC.types["240V"] = ["ground","neutral","L1","L2"];
    settings.AC.types["208V"] = ["ground","neutral","L1","L2"];
    settings.AC.types["277V"] = ["ground","neutral","L1"];
    settings.AC.types["480V Wye"] = ["ground","neutral","L1","L2","L3"];
    settings.AC.types["480V Delta"] = ["ground","L1","L2","L3"];
};
e.input = function(settings){
    settings.module =     settings.module || {};
    settings.module.make = null;
    settings.module.model = null;
    settings.array =     settings.array || {};
    settings.array.num_module = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20];
    settings.array.num_strings = [1,2,3,4,5,6];
    settings.DC =     settings.DC || {};
    settings.DC.home_run_length = [25,50,75,100,125,150];
    settings.DC.wire_size = null;
    settings.inverter =     settings.inverter || {};
    settings.inverter.make = null;
    settings.inverter.model = null;
    settings.AC =     settings.AC || {};
    settings.AC.loadcenter_type = ["240V","208/120V","480/277V"];
    settings.AC.type = settings.options.AC.loadcenter_types[settings.system.AC.loadcenter_type];
    settings.AC.loadcenter = null;
    settings.AC.distance_to_loadcenter = null;
};
e.system = function(settings){
    settings.module =     settings.module || {};
    settings.module.pmp = null;
    settings.module.vmp = null;
    settings.module.imp = null;
    settings.module.voc = null;
    settings.module.isc = null;
    settings.array =     settings.array || {};
    settings.array.isc = system.module.isc * input.array.num_strings;
    settings.array.voc = system.module.voc * input.array.num_module;
    settings.array.imp = system.module.imp * input.array.num_module;
    settings.array.vmp = system.module.vmp * input.array.num_strings;
    settings.array.pmp = system.array.vmp  * system.array.array.imp;
    settings.DC =     settings.DC || {};
    settings.inverter =     settings.inverter || {};
    settings.AC =     settings.AC || {};
    settings.AC.AWG = null;
    settings.AC.num_conductors = null;
};
module.exports = e;